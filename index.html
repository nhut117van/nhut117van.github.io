<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nhựt Vân — Chớp đẹp mắt</title>
  <style>
    :root{
      --bg1:#0f0c29; /* dark */
      --bg2:#302b63; /* purple */
      --accent1:#ff6b6b; /* coral */
      --accent2:#ffd166; /* warm yellow */
      --accent3:#6bf0ff; /* cyan */
      --glow: 0 0 20px rgba(107,240,255,0.12), 0 0 40px rgba(255,107,107,0.06);
      --font-size: clamp(36px, 8vw, 120px);
      font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;}
    body{
      margin:0;
      display:grid;
      place-items:center;
      background: radial-gradient(1200px 600px at 10% 20%, rgba(255,107,107,0.08), transparent),
                  radial-gradient(800px 400px at 90% 80%, rgba(107,240,255,0.06), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow:hidden;
      color:white;
    }

    /* Container */
    .wrap{
      text-align:center;
      padding:40px;
    }

    /* Main text */
    .name{
      position:relative;
      display:inline-block;
      font-weight:800;
      font-size:var(--font-size);
      line-height:0.9;
      letter-spacing: -1px;
      text-transform:capitalize;
    }

    /* Gradient base and clipping */
    .name .text{
      position:relative;
      background: linear-gradient(90deg,var(--accent1),var(--accent2) 40%, var(--accent3));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 6px 20px rgba(0,0,0,0.6));
    }

    /* Neon outer glow */
    .name::after{
      content: attr(data-text);
      position:absolute;
      inset:0;
      z-index:-1;
      color:transparent;
      -webkit-text-stroke: 1px rgba(255,255,255,0.06);
      text-shadow: 0 6px 30px rgba(107,240,255,0.08), 0 0 30px rgba(255,107,107,0.06);
      opacity:0.8;
      transform:translateZ(0);
      filter: blur(10px);
      mix-blend-mode: screen;
    }

    /* Shimmer band */
    .name .shimmer{
      position:absolute;
      left:-30%;
      top:0;
      height:100%;
      width:60%;
      transform:skewX(-20deg) translateX(-100%);
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.95), rgba(255,255,255,0));
      pointer-events:none;
      animation: shimmer 2.8s linear infinite;
      mix-blend-mode:overlay;
    }
    @keyframes shimmer{ to{ transform:skewX(-20deg) translateX(250%); } }

    /* Flicker effect (randomized via CSS) */
    .name.flicker{ animation: flickerBoth 3.6s linear infinite; }
    @keyframes flickerBoth{
      0% { opacity:1; text-shadow: 0 0 24px rgba(255,107,107,0.25); }
      8% { opacity:0.85; }
      10% { opacity:1; text-shadow: 0 0 28px rgba(255,215,102,0.28); }
      30% { opacity:0.95; }
      32% { opacity:0.6; text-shadow: 0 0 6px rgba(255,107,107,0.08); }
      60% { opacity:1; }
      100%{ opacity:1; }
    }

    /* Subtle underline pulse */
    .underline{
      height:6px;
      background: linear-gradient(90deg,var(--accent1),var(--accent3));
      margin:14px auto 0;
      border-radius:999px;
      width:50%;
      opacity:0.9;
      animation: pulse 2.2s ease-in-out infinite;
      transform-origin:center;
    }
    @keyframes pulse{ 0%{ transform:scaleX(0.9); opacity:0.85 } 50%{ transform:scaleX(1.05); opacity:1 } 100%{ transform:scaleX(0.9); opacity:0.85 } }

    /* Sparkles container */
    .sparks{ position:absolute; inset:0; pointer-events:none; }
    .spark{
      position:absolute;
      width:8px; height:8px;
      border-radius:50%;
      opacity:0;
      transform:translate(-50%,-50%) scale(0.6);
      box-shadow:0 0 10px rgba(255,255,255,0.9);
      animation: sparkFly 1.6s forwards ease-out;
      mix-blend-mode:screen;
    }
    @keyframes sparkFly{
      0%{ opacity:0; transform:translate(-50%,-50%) scale(0.2); }
      10%{ opacity:1; }
      80%{ opacity:0.7; transform:translate(var(--dx), var(--dy)) scale(1.1); }
      100%{ opacity:0; transform:translate(calc(var(--dx)*1.2), calc(var(--dy)*1.2)) scale(0.4); }
    }

    /* Controls */
    .controls{ position:fixed; left:10px; bottom:10px; backdrop-filter: blur(6px); background:rgba(255,255,255,0.03); padding:8px 10px; border-radius:10px; font-size:13px; }
    .controls button{ background:transparent; border:1px solid rgba(255,255,255,0.08); color:#fff; padding:6px 8px; border-radius:8px; cursor:pointer; margin-right:8px; }
    .controls label{ margin-left:8px; font-size:13px; opacity:0.9 }

    /* Responsive tweaks */
    @media (max-width:520px){
      .name{ font-weight:900 }
      .underline{ width:70% }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="name flicker" id="nhutvan" data-text="Nhựt Vân">
      <span class="text">Nhựt <span style="color:transparent"> </span>Vân</span>
      <div class="shimmer" aria-hidden="true"></div>
    </div>
    <div class="underline" aria-hidden="true"></div>
  </div>

  <div class="sparks" id="sparks"></div>

  <div class="controls" title="Tùy chỉnh hiệu ứng">
    <button id="toggleSpark">Tắt/Tắt tia</button>
    <button id="regen">Tạo lại tia</button>
    <label><input type="checkbox" id="slowFlick"> Chớp chậm</label>
  </div>

  <script>
    const sparks = document.getElementById('sparks');
    const nameEl = document.getElementById('nhutvan');
    let sparkOn = true;

    // Create randomized sparkles around the text
    function makeSparks(n=14){
      sparks.innerHTML = '';
      const r = nameEl.getBoundingClientRect();
      for(let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className='spark';
        // random start point along text bounding box
        const sx = r.left + Math.random()*r.width;
        const sy = r.top + Math.random()*r.height;
        // random direction vector
        const dx = (Math.random()-0.5)*160 + (Math.random()*60);
        const dy = -(Math.random()*120 + 10);
        s.style.left = sx + 'px';
        s.style.top = sy + 'px';
        s.style.setProperty('--dx', dx+'px');
        s.style.setProperty('--dy', dy+'px');
        // random color between accents
        const c = Math.random();
        if(c<0.45) s.style.background = 'radial-gradient(circle, rgba(107,240,255,1), rgba(107,240,255,0.2))';
        else if(c<0.8) s.style.background = 'radial-gradient(circle, rgba(255,107,107,1), rgba(255,107,107,0.18))';
        else s.style.background = 'radial-gradient(circle, rgba(255,209,102,1), rgba(255,209,102,0.18))';
        // stagger animation delay
        s.style.animationDelay = (Math.random()*0.9)+'s';
        s.style.width = (6 + Math.random()*8)+'px';
        s.style.height = s.style.width;
        sparks.appendChild(s);
      }
    }

    // Initial sparks after layout
    window.addEventListener('load', ()=>{ makeSparks(18); });
    window.addEventListener('resize', ()=>{ if(sparkOn) makeSparks(12); });

    // Controls
    document.getElementById('toggleSpark').addEventListener('click', ()=>{
      sparkOn = !sparkOn;
      sparks.style.display = sparkOn ? 'block' : 'none';
      document.getElementById('toggleSpark').textContent = sparkOn ? 'Tắt tia' : 'Bật tia';
    });
    document.getElementById('regen').addEventListener('click', ()=>{ makeSparks(16); });
    document.getElementById('slowFlick').addEventListener('change',(e)=>{
      if(e.target.checked) nameEl.style.animationDuration='6s'; else nameEl.style.animationDuration='3.6s';
    });

    // small auto-regenerate to keep the scene lively
    setInterval(()=>{ if(sparkOn) makeSparks(10 + Math.floor(Math.random()*12)); }, 4200);
  </script>
</body>
</html>
